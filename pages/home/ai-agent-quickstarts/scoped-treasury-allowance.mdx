## Agent manages a certain amount of funds

This setup is used by DAO's or other organizations that want to utilize AI agents to manage their funds.



## Pre-requisites

- Node.js
- npm
- A Safe address
- Safe should hold some ERC20 tokens for which allowance will be pr

## Create a new project
```bash
mkdir allowance-module-tutorial && cd allowance-module-tutorial
```

```bash
npm init -y
```

### Install dependencies

```bash
npm i viem @safe-global/safe-modules-deployments @safe-global/safe-deployments @safe-global/protocol-kit
```

```bash
npm i -D typescript dotenv @types/node ts-node
```

# Create a `tsconfig.json` file


```bash
npx tsc --init
```


Set `outDir` in `tsconfig.json` to `./build`:
```
...
   "outDir": "./build",
...
```

### Create a `.env` file

Copy the properties below and paste them into a `.env` file:
Update the values with your own.

```bash
SAFE_ADDRESS=<Your-Safe-Address>
SIGNER_PRIVATE_KEY=<Your-Signer-Private-Key>
AGENT_PRIVATE_KEY=<Your-Agent-Private-Key>
AGENT_ADDRESS=<Agent-Wallet-Address>
RPC_URL=<Your-RPC-URL>
```

### Script 1: Create enableAllowanceModule.ts

```bash
mkdir src && touch src/enableAllowanceModule.ts
```

Update `package.json` with the following scripts:

```
...
    "scripts": {
        ...
        "enable-module": "ts-node src/enableAllowanceModule.ts"
    }
...
```

### Script 2: Create setAllowance.ts

```bash
mkdir src && touch src/setAllowance.ts
```

Update `package.json` with the following scripts:

```
...
    "scripts": {
        ...
        "set-allowance": "ts-node src/setAllowance.ts"
    }
...
```