import { Tabs } from "nextra/components";

# `onChainMessages`

The `onChainMesssages` is an extension method that enables the SafeClient to work with on-chain messages. 

The on-chain messages are regular transactions created using the SignMessageLib so after sendOnChainMessage() you can confirm the transaction using the safeTxHash and the confirm() method of the SafeClient.

It adds the `sendOnChainMessage` method to the SafeClient. This method will create a message (string or EIP-712) using the Safe account SignMessageLib. This library allows to sign messages on-chain by writing the signed message hashes on-chain.

## Usage

{/* <!-- vale off --> */}

<Tabs items={["on-chain-messages.ts", "setup.ts"]}>
  <Tabs.Tab>
  ```typescript 
    import { onChainMessages } from '@safe-global/sdk-starter-kit'

    const safeClientWithMessages = safeClient.extend(onChainMessages())

    const txResult = await safeClientWithMessages.sendOnChainMessage({ message })    
  ```
  </Tabs.Tab>
  <Tabs.Tab>
  ```typescript 
    const safeClient = await createSafeClient({
      provider,
      signer,
      safeAddress
    })
  ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Returns

`Promise<SafeClient> & { sendOnChainMessage }`

It returns the SafeClient with some additional methods enabling the on-chain messages usage.

## Caveats

There are other extensions that adds the confirmXXX or getPendingXXX methods as well as in the case of the on-chain messages or Safe operations. This is not the case because generating the on-chain is creating a regular transaction. 
  - To confirm the message you need to use the `confirm({ safeTxHash })` method from the SafeClient
  - To get the pending messages you need to use the `getPendingTransactions()` method from the SafeClient