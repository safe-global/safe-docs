import { Tabs } from "nextra/components";

# `confirm`

The `confirm` method is used to confirm a transaction proposed to the Transaction Service. This method is only applicable for multisig Safe accounts (with more than one owner and a threshold greater than 1).

This method should be used in conjunction with the `send` method. When a transaction is stored in the Transaction Service, you should `confirm` it with other owners to make it valid.

It's important to note that when you `confirm` the transaction, if the required number of signatures reaches the threshold stored in the Transaction Service, the transaction is automatically sent to the blockchain for execution and confirmation. This is something that already happens with the `send` method when the threshold is 1.

## Usage

{/* <!-- vale off --> */}

<Tabs items={["confirm.ts", "confirm-all.ts", "setup.ts"]}>
  <Tabs.Tab>
    ```typescript 
      const safeTxHash = '0x...'
      const txResult = await safeClient.confirm({safeTxHash}) 
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```typescript           
      // Confirm all pending transactions
      for (const transaction of pendingTransactions.results) {
        await safeClient.confirm({ safeTxHash: transaction.safeTxHash })
      }      
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```typescript
      import { createSafeClient } from '@safe-global/sdk-starter-kit'
          
      // Remember to instantiate the Safe client with a signer who has not yet signed the transaction
      const safeClient = await createSafeClient({
        provider,  
        signer,
        safeAddress
      })
    ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Returns

`SafeClientResult`

The result of the `send` operation.

## Parameters

### `safeTxHash`

- **Type:** `string`

The transaction hash for a Safe transaction. This hash is not the same as the Ethereum transaction hash, as the transaction has not yet been executed. You must use the hash computed and stored in the Transaction Service.

To obtain the hash, an application that aims to confirm transactions can use the `getPendingTransactions()` method to retrieve the various pending transactions and their corresponding hashes.

```typescript
const safeTxHashToSearch = "0x...";
const pendingTransactions = await safeClient.getPendingTransactions();

for (const transaction of pendingTransactions.results) {
  if (transaction.safeTxHash !== safeTxHashToSearch) {
    return;
  }

  const txResult = await safeClient.confirm({
    safeTxHash: transaction.safeTxHash,
  });
}
```
