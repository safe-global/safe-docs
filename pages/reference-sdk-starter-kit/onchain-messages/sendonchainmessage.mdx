import { Tabs } from "nextra/components";

# `sendOnChainMessage`

Creates and sends a message as a regular transaction using the [SignMessageLib](https://github.com/safe-global/safe-smart-account/blob/main/contracts/libraries/SignMessageLib.sol) contract. The message can be a string or an [`EIP712TypedData`](https://eips.ethereum.org/EIPS/eip-712) object.

Since this method creates a new transaction, you can add more signatures by using the safeTxHash and the `confirm` method. You can also retrieve the pending transactions using the `getPendingTransactions` method from the SafeClient.

## Usage

{/* <!-- vale off --> */}

<Tabs items={["send-on-chain-message.ts", "setup.ts"]}>
  <Tabs.Tab>
    ```typescript 
      import { onChainMessages } from '@safe-global/sdk-starter-kit'
      
      const message = "I am the owner of this Safe üí™üèª"
      const safeMessageClient = safeClient.extend(onChainMessages())
      const messageResult = await safeMessageClient.sendOnChainMessage({ message })
    ```
  </Tabs.Tab>
  <Tabs.Tab>  
    ```typescript 
      import { createSafeClient } from '@safe-global/sdk-starter-kit'
      
      const safeClient = await createSafeClient({
        provider,  
        signer,
        safeAddress
      })        
    ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Returns

`SafeClientResult`

An object with the result of the operation.

## Parameters

### `message`

- **Type:** `string | EIP712TypedData`

The message can be a raw string or an [EIP-712](https://eips.ethereum.org/EIPS/eip-712) compatible data object.

### `from` (optional)

- **Type:** `string`

The sender's address for the transaction.

### `gasLimit` (optional)

- **Type:** `stringnumber | string | bigint`

The maximum amount of gas the transaction can use. If the transaction requires more gas than the limit, it will fail.

### `gasPrice` (optional)

- **Type:** `number | string`

The price in wei that the sender is willing to pay for each unit of gas.

### `maxFeePerGas` (optional)

- **Type:** `number | string`

The maximum fee per gas the sender is willing to pay.

### `maxPriorityFeePerGas` (optional)

- **Type:** `number | string`

The maximum priority fee per gas the sender is willing to pay.

### `nonce` (optional)

- **Type:** `number | string`

The `nonce` refers to a unique number used in a transaction to prevent the same transaction from being processed more than once.