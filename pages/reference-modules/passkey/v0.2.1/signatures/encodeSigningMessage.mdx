import { Tabs, Callout } from 'nextra/components'

import LegacyCallout from '../../../../../components/callouts/LegacyCallout.mdx'
import OnlySafeTxCallout from '../../../../../components/callouts/OnlySafeTxCallout.mdx'
import ReentrancyCallout from '../../../../../components/callouts/ReentrancyCallout.mdx'
import IrreversibilityCallout from '../../../../../components/callouts/IrreversibilityCallout.mdx'



# `encodeSigningMessage` 



Encodes the message that is signed in a WebAuthn assertion.

The signing message is defined to be the concatenation of the authenticator data bytes
with the 32-byte SHA-256 digest of the client data JSON. The hashing algorithm used on the
signing message itself depends on the public key algorithm that was selected on WebAuthn
credential creation.




Defined in [`WebAuthn.sol`](https://github.com/safe-global/safe-modules/tree/passkey/v0.2.1/modules/passkey/contracts/libraries/WebAuthn.sol#L231).


## Usage

{/* <!-- vale off --> */}

<Tabs items={['example.sol']}>
  <Tabs.Tab>
    ```solidity
    interface ISafe {
        function encodeSigningMessage( bytes32 challenge, bytes calldata authenticatorData, string calldata clientDataFields ) internal view returns (bytes memory message)
    }

    contract Example {
        function example() ... {
            (ISafe safe).encodeSigningMessage(
                "0x...",
                "0x...",
                "..."
            );
        }
    }
    ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Returns

### `message`

  - **Type:** `bytes`

  Signing message bytes.




## Parameters

### `challenge`

  - **Type:** `bytes32`

  The WebAuthn challenge used for the credential assertion.

  ```solidity focus=2
  (ISafe safe).encodeSigningMessage(
    "0x...",
    "0x...",
    "..."
  );
  ```


### `authenticatorData`

  - **Type:** `bytes`

  Authenticator data.

  ```solidity focus=3
  (ISafe safe).encodeSigningMessage(
    "0x...",
    "0x...",
    "..."
  );
  ```


### `clientDataFields`

  - **Type:** `string`

  Client data fields.

  ```solidity focus=4
  (ISafe safe).encodeSigningMessage(
    "0x...",
    "0x...",
    "..."
  );
  ```





