import { Tabs } from 'nextra/components'

# `useSendTransaction`

Executes a Safe transaction from the Safe connected to the [`SafeProvider`](./safeprovider.mdx) or sends it to the Safe Transaction Service if it isn't executable.

## Usage

- If the `threshold` of the connected Safe is greater than `1`, it creates the Safe transaction and submits it to the Safe Transaction Service to collect the signatures from the Safe owners.
- If the `threshold` of the connected Safe is `1`, it executes the Safe transaction.
- If the connected Safe is not deployed, it deploys it using the funds from the connected signer to pay for the transaction fees, and executes the transaction or sends it to the Safe Transaction Service, depending on the `threshold`.

{/* <!-- vale off --> */}

<Tabs items={['App.tsx', 'main.tsx']}>
  <Tabs.Tab>
    ```typescript
    import { useSendTransaction } from '@safe-global/safe-react-hooks'
    
    function App() {
      const {
        sendTransaction,
        data,
        // ...
      } = useSendTransaction()

      const transactions = [{
        to: '0x...',
        value: '123',
        data: '0x'
      }]

      return (
        <>
          <button onClick={() => sendTransaction({ transactions })}>
            Send Transaction
          </button>
          {data && JSON.stringify(data)}
        </>
      )
    }

    export default App
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```typescript
    import ReactDOM from 'react-dom/client'
    import { createConfig, SafeProvider } from '@safe-global/safe-react-hooks'
    import { sepolia } from 'viem/chains'
    import App from './App.tsx'

    const config = createConfig({
      chain: sepolia,
      provider,
      signer,
      safeAddress: '0x...'
    })

    const root = document.getElementById('root')
    
    ReactDOM.createRoot(root).render(
      <SafeProvider config={config}>
        <App />
      </SafeProvider>
    )
    ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Parameters

`UseSendTransactionParams`

Parameters to customize the hook behavior.

```typescript
import { UseSendTransactionParams } from '@safe-global/safe-react-hooks'
```

### `config` (Optional)

- **Type**: `SafeConfigWithSigner`

The configuration used instead of the one from the nearest [`SafeProvider`](./safeprovider.mdx).

{/* <!-- vale off --> */}

<Tabs items={['index.tsx', 'config.ts']}>
  <Tabs.Tab>
    ```typescript
    import config from './index.ts'

    const result = useSendTransaction({
      config
    })
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```typescript
    import { createConfig } from '@safe-global/safe-react-hooks'
    import { sepolia } from 'viem/chains'

    const config = createConfig({
      chain: sepolia,
      provider,
      signer,
      safeAddress: '0x...'
    })
    ```
  </Tabs.Tab>
</Tabs>

{/* <!-- vale on --> */}

## Returns 

`UseSendTransactionReturnType`

The react-query [`UseMutationResult`](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation).

```typescript
import { UseSendTransactionReturnType } from '@safe-global/safe-react-hooks'
```







### `sendTransaction`

`UseMutateFunction<SafeClientResult, Error, SendTransactionVariables, unknown>`

Function to send the transaction. It's a react-query [`mutate`](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation) function

#### Parameters

- `SendTransactionVariables`: Variables to send the transactions.
  - `transactions` (Transaction[]): List of transactions to send.
    - `to` (string): Address of the recipient.
    - `value` (string): Value to send.
    - `data` (string): Data to send.

#### Returns

In the `data` property of the react-query mutation result, we will have a [`SafeClientResult`](https://github.com/safe-global/safe-core-sdk/blob/9fca59736c418dc6253404b4a7784e2245d83312/packages/sdk-starter-kit/src/types.ts#L67-L85) object containing the transaction result.






### `sendTransactionAsync`

`UseMutateAsyncFunction<SafeClientResult, Error, SendTransactionVariables, unknown>`

Asynchronous function to send the transaction. It's a react-query [`mutateAsync`](https://tanstack.com/query/v4/docs/framework/react/reference/useMutation) function

#### Parameters

- `SendTransactionVariables`: Variables to send the transaction.
  - `transactions` (Transaction[]): List of transactions to send.
    - `to` (string): Address of the recipient.
    - `value` (string): Value to send.
    - `data` (string): Data to send.

#### Returns

In the `data` property of the react-query mutation result, we will have a [`SafeClientResult`](https://github.com/safe-global/safe-core-sdk/blob/9fca59736c418dc6253404b4a7784e2245d83312/packages/sdk-starter-kit/src/types.ts#L67-L85) object containing the transaction result.
